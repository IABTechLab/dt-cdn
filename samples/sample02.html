<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	
	<title>Digitrust Sample Embedded Test</title>
    <script src="//local.digitru.st/dist/digitrust.js"></script>
    <!--<script src="http://digitrust.s3.amazonaws.com/dev/v1/digitrust.min.js"></script>-->
    <!--<script src="//cdn.digitru.st/prod/v1/digitrust.js"></script>-->
    <script>
	// "digitrustIframe": "http://local.digitru.st/dist/dt.html"
	// "digitrustIframe": "http://cdn-staging.digitru.st/dist/dt.html"
        DigiTrust.initialize({
            member: 'example_member_id',
            site: 'example_site_id',
			//logging: { level: "DEBUG", enable: true },
			environment: {
				urls: {
                    "digitrustIframe": "http://local.digitru.st/dist/dt_debug.html",
                    "digitrustIdService": "http://local.digitru.st/misc/faked_id_service_v1.json"
				},
				iframe: {
					postMessageOrigin: "http://local.digitru.st",
					timeoutDuration: (1000 * 60)
				}
			}
        },
        function (digiTrustResult) {
            var el = document.getElementById('userIdDiv');
            if (digiTrustResult.success){
                console.log('Success in Digitrust init');
                el.innerHTML = "User Id (ecnrypted): <b>" + digiTrustResult.identity.id + "</b>"
            }
			else{
				console.error('Digitrust init failed');
                el.innerHTML = "Error in DigiTrust Initialization"
			}
			
        });
    </script>
</head>
<body>
	<h1>Digitrust Publisher Sample</h1>
	<div id="userIdDiv"></div>
	<p>
		This page demonstrates how to integrate the Digitrust framework into a publisher site.
	</p>
	


</body>
</html>